{"version":3,"sources":["webpack://codecrumbs/./js/core/dataBus/index.js"],"names":["DataBusContainer","createConnection","type","data","onSocketEvent","dataBody","setInitialSourceData","props","setChangedSourceData","SOCKET_EVENT_TYPE","INIT_SOURCE_FILES_SYNC","handleInitSyncEvent","UPDATE_SOURCE_FILE_SYNC","handleUpdateSyncEvent","React","Component","mapDispatchToProps","connect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;;IAEMA,gB;;;;;;;;;;;;;wCACgB;AAAA;;AAClBC,sFAAgB,CAAC;AAAA,YAAGC,IAAH,QAAGA,IAAH;AAAA,YAASC,IAAT,QAASA,IAAT;AAAA,eAAoB,KAAI,CAACC,aAAL,CAAmBF,IAAnB,EAAyBC,IAAzB,CAApB;AAAA,OAAD,CAAhB;AACD;;;wCAEmBE,Q,EAAU;AAAA,UACpBC,oBADoB,GACK,KAAKC,KADV,CACpBD,oBADoB;AAG5BA,0BAAoB,mBACfD,QADe,EAApB;AAGD;;;0CAEqBA,Q,EAAU;AAAA,UACtBG,oBADsB,GACG,KAAKD,KADR,CACtBC,oBADsB;AAG9BA,0BAAoB,mBACfH,QADe,EAApB;AAGD;;;kCAEaH,I,EAAMC,I,EAAM;AACxB,cAAQD,IAAR;AACE,aAAKO,gEAAiB,CAACC,sBAAvB;AACE,iBAAO,KAAKC,mBAAL,CAAyBR,IAAzB,CAAP;;AAEF,aAAKM,gEAAiB,CAACG,uBAAvB;AACE,iBAAO,KAAKC,qBAAL,CAA2BV,IAA3B,CAAP;;AAEF;AACE;AARJ;AAUD;;;6BAEQ;AACP,aAAO;AAAK,iBAAS,EAAC;AAAf,QAAP;AACD;;;;EApC4BW,4CAAK,CAACC,S;;AAuCrC,IAAMC,kBAAkB,GAAG;AACzBV,sBAAoB,EAApBA,6DADyB;AAEzBE,sBAAoB,EAApBA,6DAAoBA;AAFK,CAA3B;AAKeS,0HAAO,CACpB,IADoB,EAEpBD,kBAFoB,CAAP,CAGbhB,gBAHa,CAAf,E","file":"data-bus.bundle.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { createConnection } from 'core/dataBus/connection';\nimport { SOCKET_EVENT_TYPE } from 'core/constants';\nimport { setInitialSourceData, setChangedSourceData } from './actions';\n\nclass DataBusContainer extends React.Component {\n  componentDidMount() {\n    createConnection(({ type, data }) => this.onSocketEvent(type, data));\n  }\n\n  handleInitSyncEvent(dataBody) {\n    const { setInitialSourceData } = this.props;\n\n    setInitialSourceData({\n      ...dataBody\n    });\n  }\n\n  handleUpdateSyncEvent(dataBody) {\n    const { setChangedSourceData } = this.props;\n\n    setChangedSourceData({\n      ...dataBody\n    });\n  }\n\n  onSocketEvent(type, data) {\n    switch (type) {\n      case SOCKET_EVENT_TYPE.INIT_SOURCE_FILES_SYNC:\n        return this.handleInitSyncEvent(data);\n\n      case SOCKET_EVENT_TYPE.UPDATE_SOURCE_FILE_SYNC:\n        return this.handleUpdateSyncEvent(data);\n\n      default:\n        break;\n    }\n  }\n\n  render() {\n    return <div className=\"DataBus-container\" />;\n  }\n}\n\nconst mapDispatchToProps = {\n  setInitialSourceData,\n  setChangedSourceData\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(DataBusContainer);\n"],"sourceRoot":""}