{"version":3,"sources":["webpack://codecrumbs/./js/components/treeDiagram/component/Dot/index.scss","webpack://codecrumbs/./js/components/treeDiagram/component/Edge/index.scss","webpack://codecrumbs/./js/components/treeDiagram/component/Node/index.scss","webpack://codecrumbs/./js/components/treeDiagram/component/TreeDiagram.scss","webpack://codecrumbs/./js/components/treeDiagram/component/UnderLayer/index.scss","webpack://codecrumbs/./js/components/treeDiagram/TreeDiagramContainer.js","webpack://codecrumbs/./js/components/treeDiagram/component/Dot/index.js","webpack://codecrumbs/./js/components/treeDiagram/component/Dot/index.scss?20ef","webpack://codecrumbs/./js/components/treeDiagram/component/Edge/CodeCrumbEdge.js","webpack://codecrumbs/./js/components/treeDiagram/component/Edge/DepenenciesEdge.js","webpack://codecrumbs/./js/components/treeDiagram/component/Edge/SourceEdge.js","webpack://codecrumbs/./js/components/treeDiagram/component/Edge/index.scss?9576","webpack://codecrumbs/./js/components/treeDiagram/component/Node/CodeCrumb.js","webpack://codecrumbs/./js/components/treeDiagram/component/Node/File.js","webpack://codecrumbs/./js/components/treeDiagram/component/Node/Folder.js","webpack://codecrumbs/./js/components/treeDiagram/component/Node/index.scss?24ec","webpack://codecrumbs/./js/components/treeDiagram/component/Tree/CodeCrumbs/FlowEdge.js","webpack://codecrumbs/./js/components/treeDiagram/component/Tree/CodeCrumbs/Tree.js","webpack://codecrumbs/./js/components/treeDiagram/component/Tree/CodeCrumbs/index.js","webpack://codecrumbs/./js/components/treeDiagram/component/Tree/Dependencies/index.js","webpack://codecrumbs/./js/components/treeDiagram/component/Tree/Dependencies/utils.js","webpack://codecrumbs/./js/components/treeDiagram/component/Tree/Source/Tree.js","webpack://codecrumbs/./js/components/treeDiagram/component/Tree/Source/index.js","webpack://codecrumbs/./js/components/treeDiagram/component/TreeDiagram.js","webpack://codecrumbs/./js/components/treeDiagram/component/TreeDiagram.scss?2838","webpack://codecrumbs/./js/components/treeDiagram/component/UnderLayer/index.js","webpack://codecrumbs/./js/components/treeDiagram/component/UnderLayer/index.scss?bf76","webpack://codecrumbs/./js/core/dataBus/utils/geometry.js"],"names":["mapStateToProps","state","props","getSourceLayout","sourceLayoutTree","getValuesState","diagramZoom","layoutSize","calculateLayoutSize","mapDispatchToProps","onUnderLayerClick","selectDependencyEdge","connect","TreeDiagram","Dot","position","disabled","selected","type","iconPath","ICONS_DIR","iconSize","x","y","PartEdge","sourcePosition","parentName","nameWidth","SYMBOL_WIDTH","length","padding","P1","P2","polylinePoints","join","CodeCrumbEdge","targetPosition","edgeTurnDistance","P3","P4","CodeCrumbedFlowEdge","sourceName","singleCrumbSource","singleCrumbTarget","onClick","console","log","rHalf","sourcePt","targetPt","vTurn","nLength","Math","abs","endPointConfig","angle","TOP_LEFT","DepEdgeGroups","TOP_RIGHT","V_SPACE","LAYOUT_CONFIG","spacing","nodeSizeX","PADDING","HALF_PADDING","crossShift","getSourcePt","groupName","topDirection","includes","getSourceDotLinePoints","shiftY","getConnectionLine","direction","vPadding","siblingNodesDistance","workAroundXShift","getConnectionLineToFirstSource","firstSourcePosition","directionY","DependenciesEdge","anyEdgeSelected","sourceDotLinePoints","connectionLinePoints","classNames","Animation","DependenciesArrow","directionTop","SourceEdge","singleChild","START_PT","END_PT","points","CodeCrumbName","loc","name","singleCrumb","cover","flow","flowStep","onMouseOver","textPoint","symbolWidth","locWidth","FileName","path","onTextClick","onIconClick","onNodeClick","codeCrumbs","purple","dependency","dependencyImportedOnly","depEntryPoint","imageOffset","FolderName","openedState","closed","FOLDER_OPEN_STATE","CLOSED","notActiveChildrenCollapsed","OPEN_ACTIVE_CHILDREN_ONLY","iconPositionX","iconPositionY","FlowEdge","shiftToCenterPoint","sortedFlowSteps","filesLayoutMap","codeCrumbsMinimize","map","toItem","i","list","fromItem","fromFile","filePath","toFile","edgePoints","crumb","cX","cY","children","getSortedFlowSteps","codeCrumbedFlowsMap","selectedCrumbedFlowKey","currentFlow","Object","keys","forEach","steps","filter","data","params","step","concat","sort","a","b","getCheckedState","getCodeCrumbsUserChoice","NO_TRAIL_FLOW","Tree","filesMap","sourceDiagramOn","dependenciesDiagramOn","codeCrumbsLineNumbers","onCodeCrumbSelect","key","node","nX","nY","file","crumbPosition","crumbData","ccParams","displayLoc","getSource","codeCrumbsDiagramOn","selectCodeCrumb","DependenciesTree","selectedNode","onDependencyEdgeClick","selectedDependencyEdgeNodes","dependencies","selectedNodeDependencies","moduleName","importedModuleNames","moduleNode","mX","mY","sourceNodes","push","importedNodes","edges","selectedEdges","entries","getGroupsAroundNode","groupNodes","firstSourceNode","importedNode","iX","iY","importedNodePath","checkIsEdgeSelected","edge","arrowSelected","arrow","getSourceUserChoice","getDependenciesUserChoice","groups","BOTTOM_LEFT","BOTTOM_RIGHT","aDiff","bDiff","selectedEdge","target","source","sources","SourceTree","sourceDimFolders","openedFolders","onNodeTextClick","onFolderIconClick","dependenciesEntryName","sourceEdges","selectedSourceEdges","sourceDotes","each","parent","indexOf","DIR_NODE_TYPE","pX","pY","FILE_NODE_TYPE","nodeBasedOnType","fileNode","hasCodecrumbs","selectNode","toggleFolder","width","height","xShift","yShift","bounds","buildShiftToPoint","React","Component","UnderLayer","minX","minY","maxX","maxY","round","left","top","right","window","innerWidth","bottom","innerHeight","shift"],"mappings":"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","file":"tree-diagram.bundle.js","sourcesContent":["exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@-webkit-keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n@-moz-keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n.FadeIn, .Dot {\\n  opacity: 0;\\n  -webkit-animation: fadeIn ease 1;\\n  -moz-animation: fadeIn ease 1;\\n  animation: fadeIn ease 1;\\n  -webkit-animation-fill-mode: forwards;\\n  -moz-animation-fill-mode: forwards;\\n  animation-fill-mode: forwards;\\n  -webkit-animation-duration: 0.6s;\\n  -moz-animation-duration: 0.6s;\\n  animation-duration: 0.6s; }\\n\\n.Dot {\\n  fill: #BFBFBF; }\\n\\n.Dot-disabled {\\n  fill: #ccc; }\\n\\n.Dot-selected {\\n  fill: #777777; }\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@-webkit-keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n@-moz-keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n.FadeIn, .Animation, .CodeCrumbEdge {\\n  opacity: 0;\\n  -webkit-animation: fadeIn ease 1;\\n  -moz-animation: fadeIn ease 1;\\n  animation: fadeIn ease 1;\\n  -webkit-animation-fill-mode: forwards;\\n  -moz-animation-fill-mode: forwards;\\n  animation-fill-mode: forwards;\\n  -webkit-animation-duration: 0.6s;\\n  -moz-animation-duration: 0.6s;\\n  animation-duration: 0.6s; }\\n\\n.EdgeMouseHandler {\\n  cursor: pointer;\\n  fill: none;\\n  stroke-width: 8px;\\n  stroke: rgba(0, 0, 0, 0); }\\n\\n.SourceEdge {\\n  fill: none;\\n  stroke: #BFBFBF;\\n  stroke-width: 1px; }\\n\\n.SourceEdge-disabled {\\n  stroke: #ccc; }\\n\\n.SourceEdge-selected {\\n  stroke: #555555; }\\n\\n.DependenciesEdge {\\n  fill: none;\\n  stroke: #1890ff; }\\n\\n.DependenciesEdge-selected {\\n  stroke: #754BC3; }\\n\\n.DependenciesEdge-end-dot {\\n  fill: #1890ff; }\\n\\n.DependenciesEdge-end-dot-selected {\\n  fill: #754BC3; }\\n\\n.CodeCrumbEdge {\\n  fill: none;\\n  stroke: #ff18a6; }\\n\\n.CodeCrumbEdge-flow {\\n  fill: none;\\n  stroke: #ff18a6; }\\n\\n.CodeCrumbEdge-flow-source {\\n  fill: #ff18a6;\\n  stroke: #ff18a6; }\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@-webkit-keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n@-moz-keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n.FadeIn, .CodeCrumbNode, .FileNode, .FolderNode {\\n  opacity: 0;\\n  -webkit-animation: fadeIn ease 1;\\n  -moz-animation: fadeIn ease 1;\\n  animation: fadeIn ease 1;\\n  -webkit-animation-fill-mode: forwards;\\n  -moz-animation-fill-mode: forwards;\\n  animation-fill-mode: forwards;\\n  -webkit-animation-duration: 0.6s;\\n  -moz-animation-duration: 0.6s;\\n  animation-duration: 0.6s; }\\n\\n.NodeIcon {\\n  cursor: pointer; }\\n\\n.NodeText-cover {\\n  stroke: none;\\n  fill: rgba(255, 255, 255, 0.7); }\\n\\n.NodeIcon-folder-line {\\n  fill: none;\\n  stroke: #BFBFBF; }\\n\\n.NodeIcon-folder-line-disabled {\\n  stroke: #ccc; }\\n\\n.NodeText-file-name {\\n  fill: #595959;\\n  font-family: \\\"Menlo\\\";\\n  cursor: pointer; }\\n\\n.NodeText-file-name-purple {\\n  fill: #ff18a6; }\\n\\n.NodeText-file-name-selected {\\n  fill: #754BC3; }\\n\\n.NodeText-file-name-entry-point {\\n  stroke: #1890ff;\\n  fill: none; }\\n\\n.NodeText-file-name-entry-point-selected {\\n  stroke: #754BC3; }\\n\\n.NodeText-file-dependencyImportedOnly {\\n  stroke: #cccccc;\\n  fill: white; }\\n\\n.NodeText-folder-name {\\n  fill: #595959;\\n  font-family: \\\"Menlo\\\";\\n  cursor: pointer; }\\n\\n.NodeText-folder-name-disabled {\\n  fill: #A9A8A8; }\\n\\n.Folder-collapsed-children-rect {\\n  fill: #ffffff; }\\n\\n.Folder-collapsed-children-text {\\n  fill: #1890ff;\\n  font-size: 16px; }\\n\\n.CodeCrumbName-rect {\\n  fill: #fff;\\n  stroke: #ff18a6; }\\n\\n.CodeCrumbName-flow-step {\\n  fill: #ff18a6;\\n  stroke: #e91e63; }\\n\\n.CodeCrumbName-flow {\\n  fill: #ffffff;\\n  font-family: \\\"Menlo\\\";\\n  font-size: 12px; }\\n\\n.CodeCrumbName-loc {\\n  fill: #595959;\\n  font-family: \\\"Menlo\\\";\\n  font-size: 9px;\\n  cursor: pointer; }\\n\\n.CodeCrumbName-text {\\n  fill: #ff18a6;\\n  font-family: \\\"Menlo\\\";\\n  font-size: 12px;\\n  cursor: pointer; }\\n\\n.CodeCrumbName-text-flow {\\n  fill: #ff18a6;\\n  font-size: 13px; }\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".TreeDiagram {\\n  position: relative;\\n  overflow: hidden;\\n  display: flex;\\n  flex-grow: 1; }\\n\\n.MainLoader {\\n  display: flex;\\n  justify-content: space-between;\\n  justify-items: center;\\n  padding: 200px;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".UnderLayer {\\n  fill: #ffffff;\\n  stroke: none; }\\n\", \"\"]);\n\n// exports\n","import { connect } from 'react-redux';\nimport { calculateLayoutSize } from 'core/dataBus/utils/geometry';\nimport TreeDiagram from './component/TreeDiagram';\nimport { selectDependencyEdge } from 'core/dataBus/actions';\nimport { getSourceLayout } from 'core/dataBus/selectors';\nimport { getValuesState } from 'core/controlsBus/selectors';\n\nconst mapStateToProps = (state, props) => {\n  const { sourceLayoutTree } = getSourceLayout(state, props);\n  const { diagramZoom } = getValuesState(state, props);\n\n  return {\n    diagramZoom,\n    sourceLayoutTree,\n    layoutSize: calculateLayoutSize(sourceLayoutTree)\n  };\n};\n\nconst mapDispatchToProps = {\n  onUnderLayerClick: () => selectDependencyEdge(null)\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TreeDiagram);\n","import React from 'react';\n\nimport { ICONS_DIR } from 'core/constants';\n\nimport './index.scss';\n\nexport const Dot = props => {\n  const { position, disabled, selected, type } = props;\n  const iconPath = `${ICONS_DIR}dot/${type ? `${type}-` : ''}${selected ? 'selected-' : ''}dot.svg`;\n  const iconSize = 6;\n\n  return (\n    <image\n      x={position.x - 2.5}\n      y={position.y - 2.5}\n      xlinkHref={iconPath}\n      height={iconSize}\n      width={iconSize}\n    />\n  );\n};\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\n\nimport { ICONS_DIR } from 'core/constants';\nimport { SYMBOL_WIDTH } from 'components/treeDiagram/store/constants';\nimport './index.scss';\n\nexport const PartEdge = props => {\n  const { sourcePosition, parentName } = props;\n\n  const nameWidth = SYMBOL_WIDTH * parentName.length;\n  const padding = 17;\n\n  const P1 = { x: sourcePosition.x + nameWidth + padding, y: sourcePosition.y };\n  const P2 = { x: P1.x + padding + 6, y: P1.y };\n\n  const polylinePoints = [[P1.x, P1.y], [P2.x, P2.y]];\n\n  return (\n    <React.Fragment>\n      <polyline\n        points={polylinePoints.join(', ')}\n        className={'CodeCrumbEdge'}\n        strokeDasharray=\"2\"\n      />\n      <line x1={P1.x} y1={P1.y - 2} x2={P1.x} y2={P1.y + 2} className={'CodeCrumbEdge'} />\n    </React.Fragment>\n  );\n};\n\nexport const CodeCrumbEdge = props => {\n  const { sourcePosition, targetPosition, parentName } = props;\n\n  const nameWidth = SYMBOL_WIDTH * parentName.length;\n  const padding = 40;\n  const edgeTurnDistance = 20;\n\n  const P1 = { x: sourcePosition.x + nameWidth + padding, y: sourcePosition.y };\n\n  const P2 = { x: targetPosition.x - edgeTurnDistance, y: sourcePosition.y };\n  const P3 = { x: targetPosition.x - edgeTurnDistance, y: targetPosition.y };\n  const P4 = targetPosition;\n\n  const polylinePoints = [[P1.x, P1.y], [P2.x, P2.y], [P3.x, P3.y], [P4.x, P4.y]];\n\n  return (\n    <polyline points={polylinePoints.join(', ')} className={'CodeCrumbEdge'} strokeDasharray=\"2\" />\n  );\n};\n\nexport const CodeCrumbedFlowEdge = props => {\n  const {\n    sourcePosition,\n    targetPosition,\n    sourceName,\n    singleCrumbSource,\n    singleCrumbTarget,\n    onClick = () => console.log('cc edge')\n  } = props;\n\n  const rHalf = 6;\n  const sourcePt = {\n    x: -1 - rHalf + (singleCrumbSource ? sourcePosition.x - 22 : sourcePosition.x),\n    y: sourcePosition.y - rHalf\n  };\n  const targetPt = {\n    x: -rHalf + (singleCrumbTarget ? targetPosition.x - 22 : targetPosition.x),\n    y: targetPosition.y + rHalf\n  };\n\n  const padding = 20 - rHalf;\n  const vTurn = 13;\n\n  let polylinePoints = [];\n\n  if (targetPt.y > sourcePt.y) {\n    if (targetPt.x > sourcePt.x) {\n      polylinePoints = [\n        [sourcePt.x, sourcePt.y],\n        [sourcePt.x, sourcePt.y - padding],\n        [targetPt.x - 11, sourcePt.y - padding],\n        [targetPt.x - 11, targetPt.y + vTurn],\n        [targetPt.x, targetPt.y + vTurn],\n        [targetPt.x, targetPt.y]\n      ];\n    } else {\n      const nLength = sourceName.length < 10 ? sourceName.length * SYMBOL_WIDTH + 8 : 100;\n      polylinePoints = [\n        [sourcePt.x, sourcePt.y],\n        [sourcePt.x, sourcePt.y - padding],\n        [sourcePt.x + nLength, sourcePt.y - padding],\n        [sourcePt.x + nLength, targetPt.y + vTurn],\n        [targetPt.x, targetPt.y + vTurn],\n        [targetPt.x, targetPt.y]\n      ];\n    }\n  } else {\n    if (Math.abs(sourcePt.x - targetPt.x) < 5) {\n      polylinePoints = [[sourcePt.x, sourcePt.y], [targetPt.x, targetPt.y]];\n    } else {\n      polylinePoints = [\n        [sourcePt.x, sourcePt.y],\n        [sourcePt.x, sourcePt.y - padding],\n        [targetPt.x, sourcePt.y - padding],\n        [targetPt.x, targetPt.y]\n      ];\n    }\n  }\n\n  const endPointConfig = {\n    ...targetPt\n  };\n\n  endPointConfig.x -= 4;\n  endPointConfig.y += 0;\n  endPointConfig.iconSize = 8;\n  endPointConfig.iconPath = `${ICONS_DIR}arrow/purple-arrow.svg`; // TODO: move to getter\n  endPointConfig.angle = -90;\n\n  return (\n    <g className={'CodeCrumbEdge'}>\n      <rect\n        x={sourcePt.x - 1}\n        y={sourcePt.y - 3}\n        width={3}\n        height={2}\n        className={'CodeCrumbEdge-flow-source'}\n      />\n      <polyline points={polylinePoints.join(', ')} className={'CodeCrumbEdge-flow'} />\n      <image\n        x={endPointConfig.x}\n        y={endPointConfig.y}\n        xlinkHref={endPointConfig.iconPath}\n        height={endPointConfig.iconSize}\n        width={endPointConfig.iconSize}\n        transform={`rotate(${endPointConfig.angle} ${endPointConfig.x +\n          endPointConfig.iconSize / 2} ${endPointConfig.y + endPointConfig.iconSize / 2})`}\n      />\n    </g>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { ICONS_DIR } from 'core/constants';\nimport { LAYOUT_CONFIG, DepEdgeGroups } from 'components/treeDiagram/store/constants';\nimport './index.scss';\n\nconst { TOP_LEFT, TOP_RIGHT } = DepEdgeGroups;\n\nconst V_SPACE = LAYOUT_CONFIG.spacing + LAYOUT_CONFIG.nodeSizeX;\n\nconst PADDING = 30;\nconst HALF_PADDING = PADDING / 2;\nconst crossShift = 2;\n\n// Arrow can go from top ot bottom of file icon\nconst getSourcePt = (groupName, sourcePosition, targetPt) => {\n  const topDirection =\n    sourcePosition.y !== targetPt.y ? [TOP_LEFT, TOP_RIGHT].includes(groupName) : true;\n\n  return {\n    x: sourcePosition.x + 11,\n    y: topDirection ? sourcePosition.y + 6 : sourcePosition.y - 6\n  };\n};\n\nconst getSourceDotLinePoints = (groupName, sourcePt, sourcePosition, targetPosition) => {\n  const shiftY =\n    sourcePosition.y !== targetPosition.y\n      ? [TOP_LEFT, TOP_RIGHT].includes(groupName)\n        ? 1\n        : -1\n      : 1;\n\n  return [\n    [sourcePt.x - 2, sourcePt.y - shiftY],\n    [sourcePt.x, sourcePt.y + shiftY],\n    [sourcePt.x + 2, sourcePt.y - shiftY]\n  ];\n};\n\nconst getConnectionLine = (groupName, targetPosition, sourcePosition, sourcePt) => {\n  const direction = [TOP_LEFT, TOP_RIGHT].includes(groupName) ? 1 : -1;\n  const vPadding = (V_SPACE / 2 - crossShift) * direction;\n\n  const siblingNodesDistance = 40;\n  if (Math.abs(sourcePt.y - targetPosition.y) <= siblingNodesDistance) {\n    return [\n      [sourcePt.x, sourcePt.y],\n      [sourcePt.x, targetPosition.y - vPadding],\n      [targetPosition.x + 2, targetPosition.y - vPadding],\n      [targetPosition.x + 2, targetPosition.y - 5 * direction]\n    ];\n  }\n\n  const workAroundXShift = 7;\n  return [\n    [sourcePt.x, sourcePt.y],\n    [sourcePt.x, sourcePt.y + vPadding],\n\n    [targetPosition.x - workAroundXShift, sourcePt.y + vPadding],\n    [targetPosition.x - workAroundXShift, targetPosition.y - vPadding],\n\n    [targetPosition.x + 2, targetPosition.y - vPadding],\n    [targetPosition.x + 2, targetPosition.y - 5 * direction]\n  ];\n};\n\nconst getConnectionLineToFirstSource = (\n  groupName,\n  targetPosition,\n  firstSourcePosition,\n  sourcePosition,\n  sourcePt\n) => {\n  const directionY = [TOP_LEFT, TOP_RIGHT].includes(groupName) ? 1 : -1;\n  const vPadding = (V_SPACE / 2) * directionY;\n\n  return [\n    [sourcePt.x, sourcePt.y],\n    [sourcePt.x, sourcePosition.y + vPadding],\n    [firstSourcePosition.x + 8 + -HALF_PADDING, sourcePosition.y + vPadding],\n    [\n      firstSourcePosition.x + 8 + -HALF_PADDING,\n      targetPosition.y - vPadding + crossShift * directionY\n    ],\n    [targetPosition.x + 2, targetPosition.y - vPadding + crossShift * directionY],\n    [targetPosition.x + 2, targetPosition.y - 5 * directionY]\n  ];\n};\n\nexport const DependenciesEdge = props => {\n  const {\n    groupName,\n    targetPosition,\n    sourcePosition,\n    firstSourcePosition,\n    selected,\n    anyEdgeSelected,\n    onClick\n  } = props;\n\n  const sourcePt = getSourcePt(groupName, sourcePosition, targetPosition);\n  const sourceDotLinePoints = getSourceDotLinePoints(\n    groupName,\n    sourcePt,\n    sourcePosition,\n    targetPosition\n  );\n  const connectionLinePoints = !firstSourcePosition\n    ? getConnectionLine(groupName, targetPosition, sourcePosition, sourcePt)\n    : getConnectionLineToFirstSource(\n        groupName,\n        targetPosition,\n        firstSourcePosition,\n        sourcePosition,\n        sourcePt\n      );\n\n  if (!connectionLinePoints) {\n    return null;\n  }\n\n  return (\n    <React.Fragment>\n      <polyline\n        points={sourceDotLinePoints.join(', ')}\n        className={classNames('DependenciesEdge', {\n          Animation: !anyEdgeSelected,\n          'DependenciesEdge-selected': selected\n        })}\n      />\n      <polyline\n        points={connectionLinePoints.join(', ')}\n        className={classNames('DependenciesEdge', {\n          Animation: !anyEdgeSelected,\n          'DependenciesEdge-selected': selected\n        })}\n      />\n      <polyline\n        onClick={onClick}\n        points={connectionLinePoints.join(', ')}\n        className={'EdgeMouseHandler'}\n      />\n    </React.Fragment>\n  );\n};\n\nexport const DependenciesArrow = ({ targetPosition, groupName, selected }) => {\n  const directionTop = [TOP_LEFT, TOP_RIGHT].includes(groupName);\n  const endPointConfig = {\n    x: targetPosition.x + 2,\n    y: targetPosition.y - 5 * (directionTop ? 1 : -1)\n  };\n\n  endPointConfig.x -= 3;\n  endPointConfig.y -= directionTop ? 6 : 1;\n  endPointConfig.iconSize = 7;\n  endPointConfig.iconPath = `${ICONS_DIR}arrow/${selected ? 'selected-' : ''}arrow.svg`; // TODO: move to getter\n  endPointConfig.angle = directionTop ? 90 : -90;\n\n  return (\n    <image\n      x={endPointConfig.x}\n      y={endPointConfig.y}\n      xlinkHref={endPointConfig.iconPath}\n      height={endPointConfig.iconSize}\n      width={endPointConfig.iconSize}\n      className={'Animation'}\n      transform={`rotate(${endPointConfig.angle} ${endPointConfig.x +\n        endPointConfig.iconSize / 2} ${endPointConfig.y + endPointConfig.iconSize / 2})`}\n    />\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './index.scss';\n\nexport const SourceEdge = props => {\n  const { targetPosition, sourcePosition, disabled, singleChild, selected } = props;\n\n  const edgeTurnDistance = 20;\n\n  const START_PT = sourcePosition;\n  const P2 = { x: targetPosition.x - edgeTurnDistance, y: sourcePosition.y };\n  const P3 = { x: targetPosition.x - edgeTurnDistance, y: targetPosition.y };\n  const END_PT = targetPosition;\n\n  const points = singleChild\n    ? [[START_PT.x, START_PT.y], [END_PT.x, END_PT.y], [END_PT.x, END_PT.y]]\n    : [[START_PT.x, START_PT.y], [P2.x, P2.y], [P3.x, P3.y], [END_PT.x, END_PT.y]];\n\n  return (\n    <React.Fragment>\n      <polyline\n        points={points.join(', ')}\n        className={classNames('SourceEdge', {\n          'SourceEdge-disabled': disabled,\n          'SourceEdge-selected': selected\n        })}\n      />\n    </React.Fragment>\n  );\n};\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\nimport classNames from 'classnames';\n\nimport './index.scss';\nimport { SYMBOL_WIDTH } from 'components/treeDiagram/store/constants';\n\nexport const CodeCrumbName = props => {\n  // onMouseOver maybe use onMouseOver to show crumb details in popover\n  const { position, loc, name, singleCrumb, cover, flow, flowStep, onMouseOver, onClick } = props;\n\n  const textPoint = { x: singleCrumb ? position.x - 22 : position.x, y: position.y };\n  const symbolWidth = 6;\n  const locWidth = loc.length ? loc.length * symbolWidth + 3 : 0;\n\n  return (\n    <g className={'CodeCrumbNode'}>\n      {(cover && (\n        <rect\n          x={textPoint.x - 3}\n          y={position.y - 9}\n          width={locWidth + 4}\n          height={18}\n          className={'NodeText-cover'}\n        />\n      )) ||\n        null}\n      {(!flow &&\n        locWidth && (\n          <React.Fragment>\n            <rect\n              x={textPoint.x}\n              y={textPoint.y - 6}\n              width={locWidth}\n              height={12}\n              strokeDasharray=\"2\"\n              className={'CodeCrumbName-rect'}\n            />\n            <text\n              x={textPoint.x + 2.5}\n              y={textPoint.y + 3}\n              onClick={onClick}\n              className={'CodeCrumbName-loc'}\n            >\n              {loc}\n            </text>\n          </React.Fragment>\n        )) ||\n        null}\n\n      {(flow && (\n        <React.Fragment>\n          <rect\n            x={textPoint.x - 13}\n            y={textPoint.y - 7}\n            width={13}\n            height={13}\n            className={'CodeCrumbName-flow-step'}\n          />\n          <text\n            x={textPoint.x - 10.5}\n            y={textPoint.y + 3.5}\n            onClick={onClick}\n            className={'CodeCrumbName-flow'}\n          >\n            {flowStep}\n          </text>\n        </React.Fragment>\n      )) ||\n        null}\n\n      {(name && (\n        <React.Fragment>\n          {(cover && (\n            <rect\n              x={textPoint.x + 2 + (!flow ? locWidth : 0)}\n              y={position.y - 6}\n              width={name.length * 7.7}\n              height={13}\n              className={'NodeText-cover'}\n            />\n          )) ||\n            null}\n          <text\n            x={textPoint.x + 3 + (!flow ? locWidth : 0) - 1}\n            y={textPoint.y + 4}\n            onClick={onClick}\n            className={classNames('CodeCrumbName-text', {\n              'CodeCrumbName-text-flow': flow\n            })}\n          >\n            {!locWidth && !flow ? (\n              <React.Fragment>\n                &#9686;\n                {name}\n              </React.Fragment>\n            ) : (\n              name\n            )}\n          </text>\n        </React.Fragment>\n      )) ||\n        null}\n    </g>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { ICONS_DIR } from 'core/constants';\nimport { SYMBOL_WIDTH } from 'components/treeDiagram/store/constants';\nimport './index.scss';\n\nexport const FileName = props => {\n  const {\n    position,\n    name,\n    path,\n    onTextClick,\n    onIconClick,\n    onNodeClick,\n    codeCrumbs,\n    purple,\n    selected,\n    dependency,\n    dependencyImportedOnly,\n    depEntryPoint\n  } = props;\n\n  // TODO: move out to switch\n  const iconPath = `${ICONS_DIR}${\n    dependency\n      ? selected\n        ? 'two-circles/selected-two-circles.svg'\n        : 'two-circles/two-circles.svg'\n      : 'file/js-file.svg'\n  }`;\n\n  const iconSize = 15;\n  const nameWidth = name.length * SYMBOL_WIDTH;\n\n  const imageOffset = !dependency ? { x: 2, y: -10 } : { x: 0, y: -7.5 };\n\n  return (\n    <g className={'FileNode'}>\n      {((dependency || codeCrumbs) && (\n        <React.Fragment>\n          <rect\n            x={position.x + 3}\n            y={position.y - 3}\n            width={16}\n            height={5}\n            className={'NodeText-cover'}\n          />\n          <rect\n            x={position.x + 16}\n            y={position.y - 8}\n            width={nameWidth}\n            height={16}\n            className={'NodeText-cover'}\n          />\n        </React.Fragment>\n      )) ||\n        null}\n      <image\n        x={position.x + imageOffset.x}\n        y={position.y + imageOffset.y}\n        onClick={onIconClick || onNodeClick}\n        xlinkHref={iconPath}\n        height={iconSize}\n        width={iconSize}\n        className={'NodeIcon'}\n      />\n      {dependency &&\n        dependencyImportedOnly && (\n          <circle\n            cx={position.x + 2.5}\n            cy={position.y}\n            r={2.5}\n            className={'NodeText-file-dependencyImportedOnly'}\n          />\n        )}\n      <g>\n        <title>{path}</title>\n        <text\n          x={position.x + 16}\n          y={position.y + 5}\n          onClick={onTextClick || onNodeClick}\n          className={classNames('NodeText-file-name', {\n            'NodeText-file-name-purple': purple,\n            'NodeText-file-name-selected': dependency && selected && !purple\n          })}\n        >\n          {name}\n        </text>\n      </g>\n    </g>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { FOLDER_OPEN_STATE, ICONS_DIR } from 'core/constants';\n\nimport './index.scss';\nimport { SYMBOL_WIDTH } from '../../store/constants';\n\nexport const FolderName = props => {\n  const { position, name, cover, disabled, openedState, onIconClick, onTextClick } = props;\n\n  const closed = openedState === FOLDER_OPEN_STATE.CLOSED;\n  const notActiveChildrenCollapsed = openedState === FOLDER_OPEN_STATE.OPEN_ACTIVE_CHILDREN_ONLY;\n\n  const iconPath = `${ICONS_DIR}folder/${disabled ? 'disabled-' : ''}${\n    closed ? 'closed-' : 'open-'\n  }folder.svg`;\n  const iconSize = closed ? 14 : 15;\n\n  const iconPositionX = position.x + 3;\n  const iconPositionY = position.y + (closed ? -16 : -17);\n  const nameWidth = name.length * SYMBOL_WIDTH;\n\n  return (\n    <g className={'FolderNode'}>\n      {cover ? (\n        <rect\n          x={position.x + 2}\n          y={position.y - 16}\n          width={16}\n          height={15}\n          className={'NodeText-cover'}\n        />\n      ) : null}\n      {cover ? (\n        <rect\n          x={position.x + 20}\n          y={position.y - 16}\n          width={nameWidth}\n          height={15}\n          className={'NodeText-cover'}\n        />\n      ) : null}\n      {closed ? (\n        <polyline\n          points={[\n            iconPositionX - 1,\n            iconPositionY + 17,\n            iconPositionX + 16,\n            iconPositionY + 17\n          ].join(', ')}\n          strokeDasharray=\"2\"\n          className={classNames('NodeIcon-folder-line', {\n            'NodeIcon-folder-line-disabled': disabled\n          })}\n        />\n      ) : null}\n      <image\n        x={iconPositionX}\n        y={iconPositionY}\n        onClick={onIconClick}\n        xlinkHref={iconPath}\n        height={iconSize}\n        width={iconSize}\n        className={'NodeIcon'}\n      />\n      {notActiveChildrenCollapsed ? (\n        <g onClick={onIconClick} className={'NodeIcon'}>\n          <rect\n            x={position.x + 6}\n            y={position.y - 6}\n            width={11}\n            height={4}\n            className={'Folder-collapsed-children-rect'}\n          />\n          <text x={position.x + 7} y={position.y - 3} className={'Folder-collapsed-children-text'}>\n            ..\n          </text>\n        </g>\n      ) : null}\n      <text\n        x={position.x + 20}\n        y={position.y - 3}\n        onClick={onTextClick}\n        className={classNames('NodeText-folder-name', {\n          'NodeText-folder-name-disabled': disabled\n        })}\n      >\n        {name}\n      </text>\n    </g>\n  );\n};\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { NO_TRAIL_FLOW } from 'core/constants';\nimport { CodeCrumbedFlowEdge } from 'components/treeDiagram/component/Edge/CodeCrumbEdge';\n\nimport { getCheckedState } from 'core/controlsBus/selectors';\nimport { getSourceLayout, getCodeCrumbsUserChoice } from 'core/dataBus/selectors';\n\nconst FlowEdge = props => {\n  const { shiftToCenterPoint, sortedFlowSteps, filesLayoutMap, codeCrumbsMinimize } = props;\n\n  return (\n    <React.Fragment>\n      {!codeCrumbsMinimize &&\n        sortedFlowSteps.map((toItem, i, list) => {\n          if (!i) return null;\n\n          const fromItem = list[i - 1];\n          const fromFile = filesLayoutMap[fromItem.filePath];\n          const toFile = filesLayoutMap[toItem.filePath];\n\n          const edgePoints = [fromItem, toItem].map(crumb => {\n            const [cX, cY] = [crumb.y, crumb.x];\n            return shiftToCenterPoint(cX, cY);\n          });\n\n          return (\n            <CodeCrumbedFlowEdge\n              key={`cc-flow-edge-${fromItem.name}-${toItem.name}`}\n              singleCrumbSource={fromFile.children.length === 1}\n              singleCrumbTarget={toFile.children.length === 1}\n              sourcePosition={edgePoints[0]}\n              targetPosition={edgePoints[1]}\n              sourceName={fromItem.name}\n              targetName={toItem.name}\n            />\n          );\n        })}\n    </React.Fragment>\n  );\n};\n\nconst getSortedFlowSteps = ({ codeCrumbedFlowsMap, selectedCrumbedFlowKey, filesLayoutMap }) => {\n  const currentFlow = codeCrumbedFlowsMap[selectedCrumbedFlowKey] || {};\n  let sortedFlowSteps = [];\n  Object.keys(currentFlow).forEach(filePath => {\n    const steps = ((filesLayoutMap[filePath] && filesLayoutMap[filePath].children) || [])\n      .filter(({ data }) => data.params.flow === selectedCrumbedFlowKey)\n      .map(({ data, x, y }) => ({\n        name: data.name,\n        filePath,\n        step: data.params.flowStep,\n        flow: selectedCrumbedFlowKey,\n        x,\n        y\n      }));\n\n    sortedFlowSteps = sortedFlowSteps.concat(steps);\n  });\n\n  sortedFlowSteps.sort((a, b) => a.step - b.step);\n\n  return sortedFlowSteps;\n};\n\nconst mapStateToProps = (state, props) => {\n  const { codeCrumbsMinimize } = getCheckedState(state);\n\n  const { filesLayoutMap } = getSourceLayout(state, props);\n  const { selectedCrumbedFlowKey, codeCrumbedFlowsMap } = getCodeCrumbsUserChoice(state, props);\n\n  const sortedFlowSteps =\n    selectedCrumbedFlowKey !== NO_TRAIL_FLOW\n      ? getSortedFlowSteps({\n          codeCrumbedFlowsMap,\n          selectedCrumbedFlowKey,\n          filesLayoutMap\n        })\n      : [];\n\n  return {\n    sortedFlowSteps,\n    filesLayoutMap,\n    codeCrumbsMinimize\n  };\n};\n\nexport default connect(mapStateToProps)(FlowEdge);\n","import React from 'react';\n\nimport { NO_TRAIL_FLOW } from 'core/constants';\nimport { CodeCrumbName } from 'components/treeDiagram/component/Node/CodeCrumb';\nimport { FileName } from 'components/treeDiagram/component/Node/File';\nimport { PartEdge, CodeCrumbEdge } from 'components/treeDiagram/component/Edge/CodeCrumbEdge';\n\nconst Tree = props => {\n  const {\n    shiftToCenterPoint,\n    filesLayoutMap,\n    filesMap,\n    selectedCrumbedFlowKey,\n    sourceDiagramOn,\n    dependenciesDiagramOn,\n    codeCrumbsMinimize,\n    codeCrumbsLineNumbers,\n    onCodeCrumbSelect\n  } = props;\n\n  return (\n    <React.Fragment>\n      {Object.keys(filesLayoutMap).map(key => {\n        const node = filesLayoutMap[key];\n\n        const [nX, nY] = [node.y, node.x];\n        const position = shiftToCenterPoint(nX, nY);\n\n        if (!node.children) {\n          return null;\n        }\n\n        const file = filesMap[node.data.path];\n        return (\n          <React.Fragment key={`code-crumb-${file.name}`}>\n            {!sourceDiagramOn && !dependenciesDiagramOn ? (\n              <FileName position={position} name={file.name} purple={codeCrumbsMinimize} />\n            ) : null}\n            {(!codeCrumbsMinimize && (\n              <PartEdge sourcePosition={position} parentName={file.name} />\n            )) ||\n              null}\n\n            {!codeCrumbsMinimize &&\n              node.children.map((crumb, i, list) => {\n                const [cX, cY] = [crumb.y, crumb.x];\n                const crumbPosition = shiftToCenterPoint(cX, cY);\n                const singleCrumb = list.length === 1;\n                const crumbData = crumb.data;\n                const ccParams = crumbData.params;\n\n                return (\n                  <React.Fragment key={`code-crumb-edge-${file.path}-${crumbData.name}`}>\n                    {(!singleCrumb && (\n                      <CodeCrumbEdge\n                        sourcePosition={position}\n                        targetPosition={crumbPosition}\n                        parentName={file.name}\n                      />\n                    )) ||\n                      null}\n                    <CodeCrumbName\n                      position={crumbPosition}\n                      loc={codeCrumbsLineNumbers ? crumbData.displayLoc : ''}\n                      name={crumbData.name}\n                      singleCrumb={singleCrumb}\n                      cover={true}\n                      flow={\n                        ccParams.flow &&\n                        ccParams.flow === selectedCrumbedFlowKey &&\n                        selectedCrumbedFlowKey !== NO_TRAIL_FLOW\n                      }\n                      flowStep={ccParams.flowStep}\n                      onClick={() => onCodeCrumbSelect(file, crumbData)}\n                    />\n                  </React.Fragment>\n                );\n              })}\n          </React.Fragment>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\nexport default Tree;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { selectCodeCrumb } from 'core/dataBus/actions';\nimport { getSource, getSourceLayout, getCodeCrumbsUserChoice } from 'core/dataBus/selectors';\nimport { getCheckedState } from 'core/controlsBus/selectors';\nimport Tree from './Tree';\n\nconst mapStateToProps = (state, props) => {\n  const { filesMap } = getSource(state, props);\n  const { filesLayoutMap } = getSourceLayout(state, props);\n  const { selectedCrumbedFlowKey } = getCodeCrumbsUserChoice(state, props);\n  const {\n    sourceDiagramOn,\n    dependenciesDiagramOn,\n    codeCrumbsDiagramOn,\n    codeCrumbsMinimize,\n    codeCrumbsLineNumbers\n  } = getCheckedState(state);\n\n  return {\n    filesLayoutMap,\n    filesMap,\n    selectedCrumbedFlowKey,\n    sourceDiagramOn,\n    dependenciesDiagramOn,\n    codeCrumbsDiagramOn,\n    codeCrumbsMinimize,\n    codeCrumbsLineNumbers\n  };\n};\n\nconst mapDispatchToProps = {\n  onCodeCrumbSelect: selectCodeCrumb\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Tree);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  DependenciesEdge,\n  DependenciesArrow\n} from 'components/treeDiagram/component/Edge/DepenenciesEdge';\nimport { FileName } from 'components/treeDiagram/component/Node/File';\nimport { selectDependencyEdge } from 'core/dataBus/actions';\nimport {\n  getSourceLayout,\n  getSourceUserChoice,\n  getDependenciesUserChoice\n} from 'core/dataBus/selectors';\nimport { getCheckedState } from 'core/controlsBus/selectors';\n\nimport { getGroupsAroundNode, checkIsEdgeSelected } from './utils';\n\nconst DependenciesTree = props => {\n  const {\n    selectedNode,\n    filesLayoutMap,\n    shiftToCenterPoint,\n    sourceDiagramOn,\n    onDependencyEdgeClick,\n    selectedDependencyEdgeNodes\n  } = props;\n\n  if (!selectedNode || !selectedNode.dependencies) {\n    return null;\n  }\n\n  const selectedNodeDependencies = selectedNode.dependencies[selectedNode.path];\n  return (\n    <React.Fragment>\n      {selectedNodeDependencies &&\n        [selectedNodeDependencies].map(({ moduleName, importedModuleNames }) => {\n          const moduleNode = filesLayoutMap[moduleName];\n          if (!moduleNode) return null;\n\n          const { name, path } = moduleNode.data;\n          const [mX, mY] = [moduleNode.y, moduleNode.x];\n          const targetPosition = shiftToCenterPoint(mX, mY);\n          const sourceNodes = [];\n          if (!sourceDiagramOn) {\n            // TODO: un sync with FileName in SourceTree, duplication\n            sourceNodes.push(\n              <FileName key={path} position={targetPosition} name={name} dependency={true} />\n            );\n          }\n\n          const importedNodes = importedModuleNames\n            .map(name => filesLayoutMap[name])\n            .filter(node => !!node);\n\n          const edges = [];\n          const selectedEdges = [];\n\n          Object.entries(getGroupsAroundNode(moduleNode, importedNodes)).forEach(\n            ([groupName, groupNodes]) => {\n              if (!groupNodes.length) {\n                return;\n              }\n\n              // swap here as well\n              const firstSourceNode = groupNodes[0];\n              const firstSourcePosition = shiftToCenterPoint(firstSourceNode.y, firstSourceNode.x);\n              groupNodes.forEach((importedNode, i) => {\n                const [iX, iY] = [importedNode.y, importedNode.x];\n                const sourcePosition = shiftToCenterPoint(iX, iY);\n                const { path: importedNodePath, name } = importedNode.data;\n\n                const selected =\n                  selectedDependencyEdgeNodes &&\n                  checkIsEdgeSelected(selectedDependencyEdgeNodes, moduleName, importedNodePath);\n\n                const edge = (\n                  <DependenciesEdge\n                    key={`dep-edge-${importedNodePath}`}\n                    anyEdgeSelected={!!selectedDependencyEdgeNodes}\n                    selected={selected}\n                    groupName={groupName}\n                    sourcePosition={sourcePosition}\n                    targetPosition={targetPosition}\n                    firstSourcePosition={i ? firstSourcePosition : null}\n                    onClick={() => onDependencyEdgeClick(moduleName, [importedNodePath], groupName)}\n                  />\n                );\n                selected ? selectedEdges.push(edge) : edges.push(edge);\n\n                if (!i) {\n                  const arrowSelected =\n                    selectedDependencyEdgeNodes &&\n                    groupName === selectedDependencyEdgeNodes.groupName &&\n                    checkIsEdgeSelected(selectedDependencyEdgeNodes, moduleName);\n\n                  const arrow = (\n                    <DependenciesArrow\n                      key={`dep-arrow-${importedNodePath}`}\n                      selected={arrowSelected}\n                      groupName={groupName}\n                      targetPosition={targetPosition}\n                    />\n                  );\n                  arrowSelected ? selectedEdges.push(arrow) : edges.push(arrow);\n                }\n\n                if (!sourceDiagramOn) {\n                  sourceNodes.push(\n                    <FileName\n                      key={importedNodePath}\n                      position={sourcePosition}\n                      name={name}\n                      dependency={true}\n                    />\n                  );\n                }\n              });\n            }\n          );\n\n          return (\n            <React.Fragment key={moduleName}>\n              {edges}\n              {selectedEdges}\n              {sourceNodes}\n            </React.Fragment>\n          );\n        })}\n    </React.Fragment>\n  );\n};\n\nconst mapStateToProps = (state, props) => {\n  const { sourceDiagramOn } = getCheckedState(state);\n\n  const { filesLayoutMap } = getSourceLayout(state, props);\n  const { selectedNode } = getSourceUserChoice(state, props);\n  const { selectedDependencyEdgeNodes } = getDependenciesUserChoice(state, props);\n\n  return {\n    sourceDiagramOn,\n    filesLayoutMap,\n    selectedNode,\n    selectedDependencyEdgeNodes\n  };\n};\n\nconst mapDispatchToProps = {\n  onDependencyEdgeClick: selectDependencyEdge\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DependenciesTree);\n","import { DepEdgeGroups } from 'components/treeDiagram/store/constants';\n\nexport const getGroupsAroundNode = (moduleNode, importedNodes) => {\n  const groups = {\n    [DepEdgeGroups.TOP_LEFT]: [],\n    [DepEdgeGroups.TOP_RIGHT]: [],\n    [DepEdgeGroups.BOTTOM_LEFT]: [],\n    [DepEdgeGroups.BOTTOM_RIGHT]: []\n  };\n\n  const [mX, mY] = [moduleNode.y, moduleNode.x];\n\n  importedNodes\n    .sort((a, b) => {\n      const aDiff = Math.abs(mY - a.x); // swap coordinates\n      const bDiff = Math.abs(mY - b.x); // swap coordinates\n\n      if (aDiff < bDiff) {\n        return -1;\n      }\n\n      if (aDiff > bDiff) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .forEach(importedNode => {\n      const [iX, iY] = [importedNode.y, importedNode.x];\n\n      if (iY < mY) {\n        if (iX < mX) {\n          groups[DepEdgeGroups.TOP_LEFT].push(importedNode);\n        } else {\n          groups[DepEdgeGroups.TOP_RIGHT].push(importedNode);\n        }\n      } else {\n        if (iX < mX) {\n          groups[DepEdgeGroups.BOTTOM_LEFT].push(importedNode);\n        } else {\n          groups[DepEdgeGroups.BOTTOM_RIGHT].push(importedNode);\n        }\n      }\n    });\n\n  return groups;\n};\n\nexport const checkIsEdgeSelected = (selectedEdge, target, source) => {\n  if (selectedEdge.target && selectedEdge.sources.length > 1) {\n    return selectedEdge.target === target;\n  }\n\n  if (!source) {\n    return selectedEdge.target === target;\n  }\n\n  return selectedEdge.target === target && selectedEdge.sources[0] === source;\n};\n","import React from 'react';\n\nimport { FILE_NODE_TYPE, DIR_NODE_TYPE } from 'core/constants';\nimport { FileName } from 'components/treeDiagram/component/Node/File';\nimport { FolderName } from 'components/treeDiagram/component/Node/Folder';\nimport { Dot } from 'components/treeDiagram/component/Dot/index';\nimport { SourceEdge } from 'components/treeDiagram/component/Edge/SourceEdge';\n\nimport DependenciesTree from '../Dependencies/index';\nimport CodeCrumbsTree from '../CodeCrumbs/';\nimport CodeCrumbedFlowEdges from '../CodeCrumbs/FlowEdge';\n\nconst SourceTree = props => {\n  const {\n    sourceDiagramOn,\n    dependenciesDiagramOn,\n    sourceDimFolders,\n    codeCrumbsDiagramOn,\n    codeCrumbsMinimize,\n\n    sourceLayoutTree,\n    openedFolders,\n    filesMap,\n    selectedNode,\n    shiftToCenterPoint,\n    onNodeTextClick,\n    onFolderIconClick,\n    dependenciesEntryName,\n    selectedDependencyEdgeNodes\n  } = props;\n\n  const sourceEdges = [];\n  const selectedSourceEdges = [];\n  const sourceNodes = [];\n  const sourceDotes = [];\n\n  // TODO: add normal id generators for keys to not use i\n  // TODO: refactor, too long render method\n  let i = 0;\n  sourceDiagramOn &&\n    sourceLayoutTree.each(node => {\n      i++;\n\n      const [nX, nY] = [node.y, node.x];\n      const position = shiftToCenterPoint(nX, nY);\n      const { name, path, type } = node.data;\n\n      const parent = node.parent;\n      const selected = selectedNode && selectedNode.path.indexOf(path) !== -1;\n\n      if (parent && parent.data.type === DIR_NODE_TYPE) {\n        const [pX, pY] = [parent.y, parent.x];\n        const sourcePosition = shiftToCenterPoint(pX, pY);\n\n        const edge = (\n          <SourceEdge\n            key={`source-edge-${path}`}\n            targetPosition={position}\n            sourcePosition={sourcePosition}\n            disabled={sourceDimFolders}\n            singleChild={parent.children.length === 1}\n            selected={selected}\n          />\n        );\n\n        selected ? selectedSourceEdges.push(edge) : sourceEdges.push(edge);\n      }\n\n      if (\n        type === DIR_NODE_TYPE ||\n        (type === FILE_NODE_TYPE &&\n          !(dependenciesDiagramOn && selectedNode.dependencies && selectedNode.dependencies[path]))\n      ) {\n        sourceDotes.push(\n          <Dot key={`dot-${path}`} position={position} disabled={false} selected={selected} />\n        );\n      }\n\n      let nodeBasedOnType = null;\n      if (type === FILE_NODE_TYPE) {\n        const selectedNodeDependencies = selectedNode.dependencies;\n        const fileNode = filesMap[path];\n        nodeBasedOnType = (\n          <FileName\n            key={path}\n            position={position}\n            name={name}\n            path={fileNode.path}\n            codeCrumbs={codeCrumbsDiagramOn}\n            purple={codeCrumbsDiagramOn && fileNode.hasCodecrumbs && codeCrumbsMinimize}\n            selected={\n              selectedDependencyEdgeNodes &&\n              (selectedDependencyEdgeNodes.target === path ||\n                selectedDependencyEdgeNodes.sources.includes(path))\n            }\n            depEntryPoint={path === dependenciesEntryName}\n            dependency={\n              dependenciesDiagramOn && selectedNodeDependencies && selectedNodeDependencies[path]\n            }\n            dependencyImportedOnly={\n              dependenciesDiagramOn &&\n              selectedNodeDependencies &&\n              selectedNodeDependencies[path] &&\n              !selectedNodeDependencies[path].importedModuleNames.length\n            }\n            onNodeClick={() => {\n              onNodeTextClick(fileNode);\n            }}\n          />\n        );\n      } else if (type === DIR_NODE_TYPE) {\n        nodeBasedOnType = (\n          <FolderName\n            key={path}\n            position={position}\n            name={name}\n            cover={dependenciesDiagramOn || codeCrumbsDiagramOn}\n            disabled={sourceDimFolders}\n            openedState={openedFolders[node.data.path]}\n            onTextClick={() => onFolderIconClick(node.data)}\n            onIconClick={() => onFolderIconClick(node.data)}\n          />\n        );\n      }\n\n      sourceNodes.push(nodeBasedOnType);\n    });\n\n  return (\n    <React.Fragment>\n      {(sourceDiagramOn && sourceEdges) || null}\n      {(sourceDiagramOn && selectedSourceEdges) || null}\n\n      {dependenciesDiagramOn &&\n        selectedNode.dependencies && <DependenciesTree shiftToCenterPoint={shiftToCenterPoint} />}\n\n      {(codeCrumbsDiagramOn && <CodeCrumbedFlowEdges shiftToCenterPoint={shiftToCenterPoint} />) ||\n        null}\n\n      {(sourceDiagramOn && sourceNodes) || null}\n      {(sourceDiagramOn && sourceDotes) || null}\n\n      {(codeCrumbsDiagramOn && <CodeCrumbsTree shiftToCenterPoint={shiftToCenterPoint} />) || null}\n    </React.Fragment>\n  );\n};\n\nexport default SourceTree;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { selectNode, toggleFolder } from 'core/dataBus/actions';\nimport {\n  getSource,\n  getSourceLayout,\n  getSourceUserChoice,\n  getDependenciesUserChoice\n} from 'core/dataBus/selectors';\nimport { getCheckedState } from 'core/controlsBus/selectors';\nimport SourceTree from './Tree';\n\nconst mapStateToProps = (state, props) => {\n  const {\n    sourceDiagramOn,\n    dependenciesDiagramOn,\n    sourceDimFolders,\n    codeCrumbsDiagramOn,\n    codeCrumbsMinimize\n  } = getCheckedState(state);\n\n  const { filesMap } = getSource(state, props);\n  const { sourceLayoutTree } = getSourceLayout(state, props);\n  const { selectedNode, openedFolders } = getSourceUserChoice(state, props);\n  const { dependenciesEntryName, selectedDependencyEdgeNodes } = getDependenciesUserChoice(\n    state,\n    props\n  );\n\n  return {\n    sourceDiagramOn,\n    dependenciesDiagramOn,\n    sourceDimFolders,\n    codeCrumbsDiagramOn,\n    codeCrumbsMinimize,\n    sourceLayoutTree,\n    selectedNode,\n    openedFolders,\n    filesMap,\n    dependenciesEntryName,\n    selectedDependencyEdgeNodes\n  };\n};\n\nconst mapDispatchToProps = {\n  onNodeTextClick: selectNode,\n  onFolderIconClick: toggleFolder\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SourceTree);\n","import React from 'react';\nimport Draggable from 'react-draggable';\nimport { Spin } from 'antd';\n\nimport SourceTree from './Tree/Source/';\nimport { UnderLayer } from './UnderLayer';\nimport './TreeDiagram.scss';\n\nimport { buildShiftToPoint } from 'core/dataBus/utils/geometry';\n\nclass TreeDiagram extends React.Component {\n  render() {\n    // TODO: fix diagramZoom\n    const { diagramZoom, layoutSize, sourceLayoutTree, onUnderLayerClick } = this.props;\n    const { width, height, xShift, yShift, bounds } = layoutSize;\n\n    if (!width && !height) {\n      return (\n        <div className={'MainLoader'}>\n          <Spin />\n          <Spin />\n          <Spin />\n        </div>\n      );\n    }\n\n    const shiftToCenterPoint = buildShiftToPoint({\n      x: xShift,\n      y: yShift\n    });\n\n    return (\n      <div className=\"TreeDiagram\">\n        <Draggable bounds={bounds}>\n          <svg\n            width={width}\n            height={height}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            shapeRendering=\"optimizeSpeed\"\n          >\n            {sourceLayoutTree && (\n              <React.Fragment>\n                <UnderLayer width={width} height={height} onClick={onUnderLayerClick} />\n                <SourceTree shiftToCenterPoint={shiftToCenterPoint} />\n              </React.Fragment>\n            )}\n          </svg>\n        </Draggable>\n      </div>\n    );\n  }\n}\n\nexport default TreeDiagram;\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./TreeDiagram.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./TreeDiagram.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./TreeDiagram.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\n\nimport './index.scss';\n\nexport const UnderLayer = props => {\n  const { width, height, onClick } = props;\n\n  return (\n    <rect x={0} y={0} width={width} height={height} className={'UnderLayer'} onClick={onClick} />\n  );\n};\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","export const calculateLayoutSize = (list, padding = 100) => {\n  if (!list) {\n    return {\n      width: 0,\n      height: 0\n    };\n  }\n\n  let minX = 0,\n    minY = 0,\n    maxX = 0,\n    maxY = 0;\n\n  list.each(node => {\n    const [nX, nY] = [node.y, node.x];\n\n    if (nX < minX) {\n      minX = nX;\n    }\n\n    if (nY < minY) {\n      minY = nY;\n    }\n\n    if (nX > maxX) {\n      maxX = nX;\n    }\n\n    if (nY > maxY) {\n      maxY = nY;\n    }\n  });\n\n  const width = Math.round(Math.abs(maxX) + Math.abs(minX) + 3 * padding),\n    height = Math.round(Math.abs(maxY) + Math.abs(minY) + 2 * padding);\n\n  return {\n    width,\n    height,\n    xShift: padding / 2,\n    yShift: Math.round(Math.abs(minY)) + padding,\n    bounds: {\n      left: -width + padding,\n      top: -height + padding,\n      right: window.innerWidth + width - padding,\n      bottom: window.innerHeight + height - padding\n    }\n  };\n};\n\nexport const buildShiftToPoint = shift => (x, y) => ({\n  x: Math.round(shift.x + x),\n  y: Math.round(shift.y + y)\n});\n"],"sourceRoot":""}